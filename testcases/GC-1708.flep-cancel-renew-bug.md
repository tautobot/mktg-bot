# task briefing
ref. https://gigacover.atlassian.net/browse/GC-1708

customer cancelled policy on 14 Feb via `invoke flip.cancel`
but the daily renewal still renew the policy with status=cancelled

coverage setting to decide whether to renew
ie OFF means do not renew
   ON  means do renew.

a renewed policy should have status=paid or in-progress 
and it should send out emails to customer, charge Stripe
here we having Stripe charged (correct), status=cancelled (incorrect), no email sent (incorrect)


# testcase 1
by unittest 
tests.models.test_flip_renewal.TestFlipRenewal_CustomerHasCancelled_Bao#test_renew_will_not_contain_cancellation_date_2a()

## goal
cancel then renewal and must NOT see the cancelled policy get renewed

## input
emulate customer data joselineang@gmail.com when newly bought the policy

## steps
- build fixture
- cancel the policy on D1 date
- do renewal on D2 date

## expected output
- the cancelled policy NOT get renewed

# testcase 2
by unittest 
tests.models.test_flip_renewal.TestFlipRenewal_CustomerHasCancelled_Bao#test_renew_will_not_contain_cancellation_date_2b()

## goal
renewal after cancelled will create NO NEW policy

## input
emulate customer data joselineang@gmail.com IN FULL

## steps
- build fixture
- do renewal on today

## expected output
- customer's policies kept as-is
